
import SwiftUI
struct StudentDetailView: View {
    @Binding var student: Student
    @State private var showEditAlert = false
    @State private var editedName = ""
    @State private var editedAge = ""
    @State private var editedCity = ""
    
    var body: some View {
        VStack(spacing: 20) {

            Image(student.image)
                .resizable()
                .scaledToFill()
                .frame(width: 120, height: 120)
                .clipShape(Circle())
                .shadow(radius: 5)

            Text(student.name)
                .font(.largeTitle)
                .foregroundColor(student.color)
                .bold()

            Text("Age: \(student.age)")
                .font(.title3)

            Text("City: \(student.city)")
                .font(.title3)

            Spacer()
        }
        .padding()
        .navigationTitle("Student Detail")
        .toolbar {
            Button("Edit") {
                editedName = student.name
                editedAge = "\(student.age)"
                editedCity = student.city
                showEditAlert = true
            }
        }
        .alert("Edit Student", isPresented: $showEditAlert, actions: {
            TextField("Name", text: $editedName)
            TextField("Age", text: $editedAge)
                .keyboardType(.numberPad)
            TextField("City", text: $editedCity)
            
            Button("Save") {
                student.name = editedName
                if let age = Int(editedAge) {
                    student.age = age
                }
                student.city = editedCity
            }
            Button("Cancel", role: .cancel) {}
        }, message: {
            Text("Update student details")
        })
    }
}

struct StudentDetailView_Previews: PreviewProvider {
    @State static var sampleStudent = Student(name: "Shruti", age: 21, city: "Surat", image: "profile", color: .blue)

    static var previews: some View {
        NavigationStack {
            StudentDetailView(student: $sampleStudent) // pass binding with $
        }
    }
}
